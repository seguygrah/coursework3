(function(){"use strict";var t={9991:function(t,e,s){var r=s(6369),i=function(){var t=this,e=t._self._c;return e("div",[e("link",{attrs:{href:"https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css",rel:"stylesheet"}}),e("header",[e("h1",[t._v(t._s(t.sitename))]),t.showClasslists?e("div",[t.uremoveFromCart?e("button",{on:{click:t.cycle}},[t._v(" "+t._s(t.cartItemCount)+" "),e("i",{staticClass:"bx bx-cart"}),t._v(" Checkout ")]):e("button",{attrs:{disabled:"disabled"}},[t._v(" "+t._s(t.cartItemCount)+" "),e("i",{staticClass:"bx bx-cart"})])]):e("div",[e("button",{on:{click:t.cycle}},[e("i",{staticClass:"bx bx-left-arrow-alt"}),t._v(" Go back ")])])]),e("main",[e(t.currentView,{tag:"component",attrs:{"cart-items":t.cart,"classlist-items":t.classlists},on:{"add-cart":t.handleAddToCart,"remove-cart":t.handleRemoveFromCart,"order-submitted":t.handleOrderSubmitted}})],1)])},a=[],o=(s(7658),function(){var t=this,e=t._self._c;return e("section",{staticStyle:{display:"inline-flex","align-items":"start"}},[e("div",{attrs:{id:"Checkout"}},[e("h2",[t._v("Checkout Page")]),e("div",[e("div",{staticClass:"input_container"},[e("label",{attrs:{for:"name"}},[t._v("Name: ")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user_D.name,expression:"user_D.name",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:t.user_D.name},on:{input:function(e){e.target.composing||t.$set(t.user_D,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"input_container"},[e("label",{attrs:{for:"phone",pattern:"[A-Za-z]"}},[t._v("Phone: ")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user_D.phone,expression:"user_D.phone",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:t.user_D.phone},on:{input:function(e){e.target.composing||t.$set(t.user_D,"phone",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.uCheckout?e("button",{on:{click:function(e){return t.checkout()}}},[t._v("Checkout")]):t._e()])]),e("div",{attrs:{id:"cart_container"}},[e("h2",[t._v("Cart("+t._s(t.cartItemCount)+")")]),e("div",{attrs:{id:"classlists"}},t._l(t.getCartItems,(function(s){return e("div",{key:s.id,staticClass:"classlist"},[e("img",{staticClass:"image",attrs:{src:s.item.image,alt:"",width:"100%"}}),e("div",{staticClass:"info_container"},[e("p",[t._v("Title: "+t._s(s.item.title))]),e("p",[t._v("Location: "+t._s(s.item.location))]),e("p",[t._v("Price: "+t._s(s.item.price))]),e("button",{on:{click:function(e){return t.remove_from_cart(s)}}},[t._v("Remove From Cart")])])])})),0)])])}),n=[],c={name:"CartComponent",props:{cartItems:{type:Array}},emits:["remove-cart","order-submitted"],computed:{getCartItems(){return this.cartItems},cartItemCount(){return this.cartItems.length||"Empty"},uremovefromcart(){return this.cartItems.length>0},uCheckout(){const t=this.user_D;return t.name.match(/^[A-Za-z\s]+$/)&&t.phone.match(/^[0-9]+$/)}},methods:{remove_from_cart(t){this.$emit("remove-cart",JSON.stringify(t))},checkout(){alert("Order submited"),this.$emit("order-submitted")}},data(){return{user_D:{name:"",phone:""}}}},l=c,u=s(1001),d=(0,u.Z)(l,o,n,!1,null,"322a7dee",null),h=d.exports,m=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Lesson Page")]),e("section",{staticStyle:{display:"flex","flex-direction":"row",width:"100%"}},[e("section",{staticStyle:{width:"30%"}},[e("h3",[t._v("Filter & Order")]),e("div",{staticStyle:{display:"flex","flex-direction":"column","align-self":"flex-start",width:"100%"},attrs:{id:"filters"}},[e("h3",{staticStyle:{margin:"0.5rem 0"}},[t._v("Filter")]),e("div",{attrs:{id:"sort"}},t._l(t.sort_dict,(function(s,r){return e("div",{key:s.id},[s.checked?e("input",{attrs:{type:"radio",name:"sort",value:"key",checked:""},on:{click:function(e){return t.sort(r)}}}):e("input",{attrs:{type:"radio",name:"sort",value:"key"},on:{click:function(e){return t.sort(r)}}}),e("label",{attrs:{for:"sort"}},[t._v(t._s(r))])])})),0),e("h3",{staticStyle:{margin:"0.5rem 0"}},[t._v("Order")]),e("div",{attrs:{id:"order"}},t._l(t.order_dict,(function(s,r){return e("div",{key:s.id},[s.checked?e("input",{attrs:{type:"radio",name:"order",value:"key",checked:""},on:{click:function(e){return t.order(r)}}}):e("input",{attrs:{type:"radio",name:"order",value:"key"},on:{click:function(e){return t.order(r)}}}),e("label",{attrs:{for:"order"}},[t._v(t._s(r))])])})),0)])]),e("section",{staticStyle:{width:"100%"}},[e("div",{staticStyle:{width:"100%",display:"inline-flex","align-items":"center","justify-content":"flex-start"}},[e("div",{attrs:{id:"search"}},[t.search?e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],attrs:{type:"text",placeholder:t.searchTerm},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}):t._e(),e("button",{on:{click:t.search}},[e("i",{staticClass:"bx bx-search"})])])]),e("div",{attrs:{id:"classlists"}},t._l(t.classlist_copy,(function(s){return e("div",{key:s.id,staticClass:"classlist"},[e("img",{staticClass:"image",attrs:{src:s.image,alt:"",width:"100%"}}),e("div",{staticClass:"info_container"},[e("p",[t._v("title: "+t._s(s.title))]),e("p",[t._v("Location: "+t._s(s.location))]),e("p",[t._v("Price: $"+t._s(s.price))]),e("p",[t._v("Spaces: "+t._s(s.availablespace))]),s.availablespace>0?e("button",{on:{click:function(e){return t.add_to_cart(s)}}},[t._v("Add To Cart")]):e("button",{attrs:{disabled:""}},[t._v("Add To Cart")])])])})),0)])])])},p=[],v={name:"LessonComponent",props:{classlistItems:{type:Array}},emits:["add-cart"],created(){this.loadClasslists()},methods:{showCheckout(){this.showClasslists=!this.showClasslists},add_to_cart(t){const e=`${t.title[0]}`+t.id+`${t.location[0]}`+Math.ceil(1e6*Math.random());let s={id:e,item:t};this.$emit("add-cart",JSON.stringify(s))},search_func(t){let e=this.sort_value.toLowerCase();"all"!=e&""!=t.trim()&&("price"!=e?this.classlist_copy=this.classlistItems.filter((s=>s[e].toLowerCase().includes(t.toLowerCase()))):null!=t.match(/^[0-9]+$/)&&(this.classlist_copy=this.classlistItems.filter((s=>(""+s[e]).includes(t)))),this.order_sort(this.sort_value)),""==t.trim()&&(this.loadClasslists(),this.order_sort(this.sort_value))},order(t){this.order_value=t,this.order_sort(this.sort_value)},sort(t){this.sort_value=t,this.order_sort(t)},order_sort(t){if(t=t.toLowerCase(),"all"!=t){this.searchTerm=t;const e="Ascending"==this.order_value;this.classlist_copy.sort(((s,r)=>s[t]>r[t]?e?1:-1:r[t]>s[t]?e?-1:1:0))}else this.searchTerm="Please choose criteria eg. title, location, price.",this.loadClasslists()},loadClasslists(){this.classlist_copy=[],this.classlistItems.forEach((t=>{this.classlist_copy.push(t)}))}},data(){return{sitename:"After School Activities Store",cart:[],order_value:"Ascending",order_dict:{Ascending:{id:1,checked:!0},Descending:{id:2,checked:!1}},sort_value:"All",sort_dict:{All:{id:1,checked:!0},title:{id:2,checked:!1},Location:{id:3,checked:!1},Price:{id:4,checked:!1}},searchInput:"",searchTerm:"Please choose criteria eg. title, location, price.",classlist_copy:[],user_D:{name:"",phone:""}}},computed:{cartItemCount(){return this.cart.length||"Empty"},uremovefromcart(){return this.cart.length>0},search(){return this.search_func(this.searchInput),!0}}},f=v,_=(0,u.Z)(f,m,p,!1,null,"460f938a",null),C=_.exports,y={name:"App",created(){this.loadClasslists()},computed:{cartItemCount(){return this.cart.length||"Empty"},uremoveFromCart(){return this.cart.length>0}},data(){return{sitename:"After School Activities Store",currentView:C,showClasslists:!0,cart:[],classlists:[]}},methods:{loadClasslists(){const t=3e3;fetch(`http://localhost:${t}/collection/courses`).then((t=>{t.json().then((t=>{this.classlists=t.map((t=>(t["image"]=`/${t["image"]}`,t)))}))}))},handleAddToCart(t){t=JSON.parse(t);const e=t.item;for(let s=0;s<this.classlists.length;s++){const r=this.classlists[s];if(t["item"]._id===r._id){e.availablespace--;break}}this.cart.push(t)},handleRemoveFromCart(t){t=JSON.parse(t);const e=t.id,s=this.cart.filter((t=>t.id!==e));this.cart=s;const r=t.item;for(let i=0;i<this.classlists.length;i++){const e=this.classlists[i];if(t["item"]._id===e._id){r.availablespace++;break}}},handleOrderSubmitted(){this.cart=[],this.cycle()},cycle(){this.currentView.name===C.name?(this.currentView=h,this.showClasslists=!1):(this.currentView=C,this.showClasslists=!0)}}},b=y,g=(0,u.Z)(b,i,a,!1,null,null,null),k=g.exports;r.ZP.config.productionTip=!1,new r.ZP({render:t=>t(k)}).$mount("#app")}},e={};function s(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,r,i,a){if(!r){var o=1/0;for(u=0;u<t.length;u++){r=t[u][0],i=t[u][1],a=t[u][2];for(var n=!0,c=0;c<r.length;c++)(!1&a||o>=a)&&Object.keys(s.O).every((function(t){return s.O[t](r[c])}))?r.splice(c--,1):(n=!1,a<o&&(o=a));if(n){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,a,o=r[0],n=r[1],c=r[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(c)var u=c(s)}for(e&&e(r);l<o.length;l++)a=o[l],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(u)},r=self["webpackChunkcoursework3"]=self["webpackChunkcoursework3"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(9991)}));r=s.O(r)})();
//# sourceMappingURL=app.d588eaf8.js.map